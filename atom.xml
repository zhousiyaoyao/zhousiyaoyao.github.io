<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>周尧尧的博客</title>
  
  <subtitle>已识乾坤大，犹怜草木青</subtitle>
  <link href="/atom.xml" rel="self"/>
  
  <link href="http://yoursite.com/"/>
  <updated>2018-11-25T16:42:18.023Z</updated>
  <id>http://yoursite.com/</id>
  
  <author>
    <name>zeusyao</name>
    
  </author>
  
  <generator uri="http://hexo.io/">Hexo</generator>
  
  <entry>
    <title>SAP实习第一季度总结</title>
    <link href="http://yoursite.com/2018/11/26/SAP%E5%AE%9E%E4%B9%A0%E5%AD%A3%E5%BA%A6%E6%80%BB%E7%BB%93/"/>
    <id>http://yoursite.com/2018/11/26/SAP实习季度总结/</id>
    <published>2018-11-25T16:02:19.000Z</published>
    <updated>2018-11-25T16:42:18.023Z</updated>
    
    <content type="html"><![CDATA[<p>2018年11月26日，和老板汇报了3个月实习的进度和收获后，和姐夫见了一个SAP&amp;ORACLE实施的服务提供商partner，然后参加了一个云计算研讨会，晚上和会上嘉宾一起吃饭。感受良多，受益匪浅，对未来的发展，我也产生了新的想法。</p><h3 id="我在SAP的收获"><a href="#我在SAP的收获" class="headerlink" title="我在SAP的收获"></a>我在SAP的收获</h3><p>这三个月来，我收获了些什么？</p><ol><li>技术，在PI，中间件，ESB上基本入门了，提升了一些java代码的编写能力，学会了SOAP UI，Rabbitmq等工具的使用，对各种协议规则，SOAP，REST，RFC，IDOC有了更加深刻的理解。</li><li>业务，我熟悉了SAP这个公司，企业文化，各种产品，解决方案，盈利模式，服务方案等等方面。</li><li>职场技能，我大大提高了公众演讲，展示汇报的能力，敢于甚至爱上了分享的过程，说话更加有逻辑。</li><li>人脉，认识了很多人，但互动多的还是比较少，需要提高相关能力。</li><li>英语，阅读得到极大提高，写作听力提高一些，口语学美剧应该也有少许提高。</li><li>视野，SAP带给我的是一个广阔的平台，让我知道一个国际化的大公司会是什么样子的，各种福利，机会，活动，培训，以及和同事的沟通，在公司得到的信息，让我知道了更多。</li><li>光环，不得不说，SAP给了我自信，让我有了底气</li></ol><h3 id="关于未来"><a href="#关于未来" class="headerlink" title="关于未来"></a>关于未来</h3><p>之前也知道了SAP的云业务有多么的不堪，S/4 HANA只有百分之5是OP，但SAP的那个partner向我揭露内幕时，我也震撼到了，对销售来说，卖云的拿的回扣是卖OP的几倍，这时候，如果客户已经确定要买300w的OP，这是销售会要求客户，我让你250w就能买到OP，剩下50w买cloud，cloud相当于白菜白送。这种情况，云的销量还是如此。要知道，未来是云的时代，SAP的转型是非常难的，船大难掉头。长期呆在SAP会非常乐观，SAP不是正在转型嘛，若干年S/4 HANA彻底做起来了，就无敌了。可是在外部看了，SAP就是在啃老本，夕阳红，养老，迟早要被其他云公司干掉。</p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;2018年11月26日，和老板汇报了3个月实习的进度和收获后，和姐夫见了一个SAP&amp;amp;ORACLE实施的服务提供商partner，然后参加了一个云计算研讨会，晚上和会上嘉宾一起吃饭。感受良多，受益匪浅，对未来的发展，我也产生了新的想法。&lt;/p&gt;
&lt;h3 id=&quot;我在S
      
    
    </summary>
    
    
      <category term="总结" scheme="http://yoursite.com/tags/%E6%80%BB%E7%BB%93/"/>
    
  </entry>
  
  <entry>
    <title>SAP PI（2）</title>
    <link href="http://yoursite.com/2018/11/06/PI2/"/>
    <id>http://yoursite.com/2018/11/06/PI2/</id>
    <published>2018-11-06T15:48:01.000Z</published>
    <updated>2018-11-08T12:51:55.444Z</updated>
    
    <content type="html"><![CDATA[<ol><li>BPE：message correlation and deals with the processing of messages in ccBPM.</li><li>IE：routing and mapping and provides central integration server services，handles messages in XML and SOAP protocol</li><li>AAE：adapters</li><li>大多数adapter在JAVA栈上，只有2个在abap栈上，IDOC，HTTP</li><li>Service Repository：UDDI，还有一些web service</li><li>ESR：objects 比如 mapping，interface，process definition</li><li>SLD：landscape，software component version，business system，technical system</li><li>ID：配置场景</li><li>以前是双栈结构，IE，BPE，IB在abap。ESR，SLD，ID在java；7.5之后java单栈</li><li>一个service interface对应一个message mapping对应一个message type对应多个data type</li><li>operation mapping是用来把原始结构转为目标结构，使用message mapping来简化</li><li>message mapping有图形化mapping，java mapping，XSLT mapping 和 ABAP Mapping</li><li>Communication channel determines inbound and outbound processing of messages by converting external native messages to SOAP XML format using Adapter Engine。Two types of communication Channel — Sender Channel and Receiver Channel.</li><li>The Configuration and Monitoring option on SAP PI tools Home Page allows you to monitor the functions of the integration engine, CCMS integration and process monitoring infrastructure in SAP system.</li><li>Using Configuration and Monitoring, you can monitor the following functions −<ol><li><strong>Component Monitoring</strong> − To monitor different Java and ABAP components of SAP PI.</li><li><strong>Message Monitoring</strong> − To monitor the status of message processing in a SAP PI component.</li><li><strong>Performance Monitoring</strong> − Using runtime workbench, you can monitor different performance measures in a SAP PI system. You can create various aggregation reports.</li><li><strong>End to End Monitoring</strong> − To monitor end to end lifecycle in SAP PI system for a scenario.</li><li><strong>Message Index Search</strong> − You can perform Index-based message search in message monitoring and you can also search based on adapter specific selection, etc.</li><li><strong>Alert Inbox</strong> − Alert inbox is as per the role assigned to a business user and is used for viewing all the alerts in SAP PI system as per configuration.</li><li><strong>Alert Configuration</strong> − Alert framework in C&amp;M allows you to report all the errors during message processing in ABAP and Java. Using alert configuration, you can define policy, if an alert has to be reported for error and to perform analysis or not.</li><li><strong>Monitoring of Runtime Cache</strong> − This is used to view objects in runtime cache.</li></ol></li><li>BE（best effort）：同步通信，sender给receiver发送request，然后等待response，否则就不继续了。如果有错误发生了，超时了，sender就会重复发送</li><li>同步通信优点：不需要配置response message routing；不需要correlate response to a request；response立即可以收到。适用于reading操作的场景，比如view po</li><li>同步通信缺点：失败了需要resend；receiver需要配置check重复message；sender application会堵塞直到收到response或者超时错误；不能适用于配置多个receivers</li><li>EO（exactly once）或EOIO（exactly once in order，按照business requirement）,异步通信，两个系统间加一个中间系统（队列结构），sender发送request，不需要等待response。如果出错误了，中间系统会负责重发。If required, the receiving system can send a response back to Sender as a separate asynchronous call. 使用场景：创建po，修改po</li><li>异步通信优点：保证delivery，会重发；不需要配置check重复message；可以多个receiver；sender和receiver不需要同时在线；</li><li>异步通信缺点：不提供及时的response；Response message needs to be implemented and routed separately；In this scenario, the sender needs to correlate responses to request on its own</li><li>SOAP：PI传递信息的格式：包括一个header和payload，头部包括sender和receiver的信息，payload包括actual data</li><li>With SAP AS ABAP, each client is defined as one business system. In SAP AS Java, each technical system acts as a business system.</li><li>Technical systems are part of the System Landscape Directory (SLD) and contain information about version, database and patch levels, operating system, etc.</li><li>Business system acts as a sender and a receiver in SLD. They inherit the software components from technical systems as products</li><li>Inbound Service Interface will be dragged to Target Operation and Outbound Service Interface will be dragged to Source Operation.</li></ol>]]></content>
    
    <summary type="html">
    
      
      
        &lt;ol&gt;
&lt;li&gt;BPE：message correlation and deals with the processing of messages in ccBPM.&lt;/li&gt;
&lt;li&gt;IE：routing and mapping and provides central in
      
    
    </summary>
    
    
      <category term="SAP" scheme="http://yoursite.com/tags/SAP/"/>
    
  </entry>
  
  <entry>
    <title>SAP 演讲培训</title>
    <link href="http://yoursite.com/2018/11/05/%E6%BC%94%E8%AE%B2%E5%9F%B9%E8%AE%AD/"/>
    <id>http://yoursite.com/2018/11/05/演讲培训/</id>
    <published>2018-11-05T13:01:25.000Z</published>
    <updated>2018-11-05T13:02:42.441Z</updated>
    
    <content type="html"><![CDATA[<h4 id="成功演讲之准备篇"><a href="#成功演讲之准备篇" class="headerlink" title="成功演讲之准备篇"></a>成功演讲之准备篇</h4><p>为什么会紧张：</p><ol><li>负面思考</li><li>追求完美</li><li>准备不足</li><li>缺乏自信</li></ol><p>全球十大恐惧前三就有公众演讲，所以没有关系</p><p>克服紧张四大心法：</p><ol><li>主场意识</li><li>焦点转移，不放在别人看法，想法上，完成自己所要完成的</li><li>借力技巧，手卡，自然而然的看</li><li>回归当下，享受与人分享的喜悦，暗爽</li><li>技巧：336，吸气，呼气，临上场，真的紧张时，平复心情</li></ol><p>演讲前思考的第一个问题：</p><p>什么是你的目的</p><ul><li><p>告知</p><p>eg：工作汇报，产品演示，任务布置，项目说明，经验分享，新闻发布等</p><p>风格：简洁的，生动的</p><p>技巧：金字塔原理，认知心理学</p></li><li><p>说服，改变听众的态度或行为，使听众接受或者支持你的观点</p><p>eg：销售路演，面试，投标演讲，IPO路演，提案建议，竞选演讲等</p><p>风格：专业的，积极的<br>技巧：销售技巧，社会心理学</p></li><li><p>激励，促使听众去追求崇高的目标或理念，使听众相信自己可以做得更好，引发听众对未来的无限憧憬</p><p>eg：励志演讲，誓师大会，毕业典礼，公司年会致辞</p><p>风格：热情的，鸡血的</p><p>技巧：表演技巧，共情技巧</p></li><li><p>娱乐，给听众带来欢乐和享受</p><p>eg：综艺节目主持，脱口秀</p><p>风格：幽默的，冷幽默的</p><p>技巧：表演技巧，语言技巧，脱口秀技巧</p></li><li><p>传播，让听众宣传转告（转发）</p><p>eg：互联网企业发布会</p><p>风格：抓眼球的，带梗的，全民八卦</p><p>技巧：传播理论，营销技巧</p></li></ul><p>Tips</p><ul><li>改变！让别人知道我们所知。好的演讲者分享资料，杰出的演讲者改变观众所知，让人惊艳的演讲者改变观众的信念</li><li>演讲三大水桶：主题+演讲者+听众</li><li>what is in it for me？ 与我何干？  WIIIFM</li><li>找准核心听众，老板，重要客户</li><li>预判听众立场，客户很资深的话，从自己</li><li>了解听众需求，痛点在哪里</li><li>考虑自身立场，仅代表我个人/团队/公司，字搞大些，政治正确，不踩雷</li><li>目的：分析听众，了解听众痛点</li></ul><h4 id="成功演讲之基础篇"><a href="#成功演讲之基础篇" class="headerlink" title="成功演讲之基础篇"></a>成功演讲之基础篇</h4><ul><li>声音</li><li>身形，避免摇晃式，左右/前后，避免含胸驼背</li><li>站位，无遮挡原则，照顾全场原则，稳定自然原则</li><li>非语言信息：适当的手势与演讲相称的表述（自然），眼神（不要闪烁，适度交流），避免眼神只盯着一个人</li></ul><h4 id="成功演讲之技巧篇"><a href="#成功演讲之技巧篇" class="headerlink" title="成功演讲之技巧篇"></a>成功演讲之技巧篇</h4><ol><li><p>开场，抓住听众，给演讲定性定调</p><ul><li>显示照片</li><li>从热点新闻开场</li><li>提供权威人物，名言</li><li>幽默</li><li>利用神秘感</li><li>提问</li><li>画一张图</li><li>一些数据统计</li><li>个人感受</li></ul></li><li><p>画骨，逻辑能力（思维），画骨就是逻辑的力量</p><ul><li>时钟方案，以时间顺序安排逻辑，推进计划是不可阻挡的时间流逝</li><li>空间方案，地理位置或者视觉区域，使大众能看到地图，从视觉上跟上你的思路。纽约-伦敦-巴黎，家庭-学校-公司，头脑-心灵-双手</li><li>三叶方案，三元结构，三段式论证，从不同的方面，层次，或者视角安排逻辑。红-蓝-黄，剪刀-石头-布，老师-家长-学生，员工-经理-客户</li><li>钟摆方案，正反合，你描述相互对立的选项，并建立起对合理中间立场的渴望，让你能承认两种相异的观点，然后将观众引向中间立场，从而再僵局中实现行动。太热-太冷-刚好，从一方面-反过来-平心而论</li><li>镜头方案，通过视野变化而产生强烈的视觉运动，透过镜头带动听众：从小，中到大或相反方向，个人-小组-大众，首先-其次-第三，城市-国家-大洲，公司-部门-个人。以小见大</li></ul></li><li><p>互动，“有xxx经历的请举手”</p><ul><li>提问，所有的问题不能接不回来，肯定，回复，确认</li><li>认可，个人，事实，感受，“这是一个很好的问题”，我相信很多人都有和你一样的a，我理解你的感受。表达处理异议，我理解你的感受，我曾经这么想，后来我发现。</li><li>询问，意义，重复一遍，“我有没有回答你的问题”</li></ul><p>观点-原因-例子-总结点</p></li><li><p>结尾，回声</p><ul><li>镜头回放</li><li>号召行动</li><li>个人承诺</li><li>价值和愿景</li><li>诗意的激励，情怀</li><li>一句话总结，公司slogan（年会）</li><li>致谢，耐心，创新，支持，走心些</li></ul></li><li><p>故事，为什么讲故事</p><ul><li>讲故事&gt;讲道理</li><li>画面感</li><li>可视化</li><li>感性易经</li><li>右脑思维（情感）</li><li>难点变得简单</li><li>激发好奇心</li><li>思辨，挑战</li></ul></li></ol><p>   逻辑引发思考，而情绪促使行动</p><p>   如何讲一个故事？</p><p>   ​    具体时间+地点</p><p>   三幕式结构：</p><ul><li>设定情境</li><li>矛盾冲突</li><li>问题化解</li></ul><p>   故事五要素：</p><ul><li>细节</li><li>画面感</li><li>悬念</li><li>情感，内化现象，引起共鸣，代入感</li><li>提炼和升华</li></ul><h4 id="我的演讲"><a href="#我的演讲" class="headerlink" title="我的演讲"></a>我的演讲</h4><ol><li>三分钟自我介绍：<ul><li>网络用语不要用，观众很多可能不明白</li><li>woc等词不能用</li><li>不要走来走去</li><li>增加与观众的眼神交流</li></ul></li><li>主题演讲至暗时刻：<ul><li>站姿，定点（重点）</li><li>眼神沟通（重点）</li><li>幽默精简</li></ul></li></ol><h4 id="演讲加分点"><a href="#演讲加分点" class="headerlink" title="演讲加分点"></a>演讲加分点</h4><ol><li>打动人，情感真实，面带笑容</li><li>植入商业价值</li><li>讲熟悉的东西</li><li>声音好听，语速有变化，不快不慢，语音语调</li><li>不跑题，契合</li><li>故事性强</li><li>手势丰富</li><li>结构清楚</li><li>时间掌控</li><li>考虑听众</li><li>有仪式感，不能太放松</li><li>nike曲线，有波折，有悬念</li><li>看稿杜绝一边看一边挥手的动作</li><li>细节到位</li><li>说请举手时，尽量自己也要举手</li><li>互动环节，不抛地雷，不要放太开，以免观众不配合</li></ol><h4 id="成功演讲总结"><a href="#成功演讲总结" class="headerlink" title="成功演讲总结"></a>成功演讲总结</h4><ul><li>充分准备</li><li>掌握技巧</li><li>平和心态</li><li>不断练习</li></ul>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h4 id=&quot;成功演讲之准备篇&quot;&gt;&lt;a href=&quot;#成功演讲之准备篇&quot; class=&quot;headerlink&quot; title=&quot;成功演讲之准备篇&quot;&gt;&lt;/a&gt;成功演讲之准备篇&lt;/h4&gt;&lt;p&gt;为什么会紧张：&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;负面思考&lt;/li&gt;
&lt;li&gt;追求完美&lt;/li&gt;
&lt;
      
    
    </summary>
    
    
      <category term="SAP" scheme="http://yoursite.com/tags/SAP/"/>
    
  </entry>
  
  <entry>
    <title>SAP PI（1）</title>
    <link href="http://yoursite.com/2018/11/02/PI/"/>
    <id>http://yoursite.com/2018/11/02/PI/</id>
    <published>2018-11-02T13:51:15.000Z</published>
    <updated>2018-11-02T14:12:02.204Z</updated>
    
    <content type="html"><![CDATA[<h4 id="Unit-1-PI-Architecture"><a href="#Unit-1-PI-Architecture" class="headerlink" title="Unit 1 PI Architecture"></a>Unit 1 PI Architecture</h4><ul><li>SLD(system landscape directory): 负责business和technical system，包括software catalog，landscapes</li><li>ESR(enterprise services repository): 各种对象，比如interface，mappings，process definitions</li><li>SR(service registry): 提供各种web服务，比如UDDI(Universal Description, Discovery, Integration)</li><li>ID(Integration Directory): 配置场景，实现信息交换</li><li>BPE(business process engine): 控制信息校准，决定处理哪条message，cross-component business process management (ccBPM)的一部分</li><li>IE(integration Engine): 处理ID的信息，包括确定接收方和mapping传入的信息到接收方的接口</li><li>AAE(Advanced Adapter Engine): 给adapters提供basis</li><li>RW(Runtime Workbench): 监控部件和信息的工具</li></ul><p><img src="/2018/11/02/PI/5.png" alt="示例图片" title="示例图片"></p><h6 id="访问SAP-PI的方式"><a href="#访问SAP-PI的方式" class="headerlink" title="访问SAP PI的方式"></a>访问SAP PI的方式</h6><ul><li>SAP GUI，访问ABAP版本的PI</li><li>Integration Builder，提供了JAVA GUI，在ID中使用，同时还负责版本控制和锁管理</li><li>Enterprise Services Builder，提供JAVA GUI，在ESR中使用</li><li>SAP NetWeaver Developer Studio（NWDS），SAP的java开发工具，基于eclipse，可以用来查看编辑ESR中的对象类型</li><li>浏览器，可以看到配置，监管，ID和SLD</li></ul><p><img src="/2018/11/02/PI/6.png" alt="示例图片" title="示例图片"></p><h6 id="SAP-PI的下载选项"><a href="#SAP-PI的下载选项" class="headerlink" title="SAP PI的下载选项"></a>SAP PI的下载选项</h6><p><img src="/2018/11/02/PI/7.png" alt="示例图片" title="示例图片"></p><h6 id="SLD"><a href="#SLD" class="headerlink" title="SLD"></a>SLD</h6><ul><li>在SLD上填写technical，business系统的信息，包括hostname，software component的信息等</li><li>SLD的结构基础是CIM（Common Information Model），CIM是由DMTF发展而来（Distributed Management Task Force），DMTF是用来集中管理landscape上的IT系统的</li><li>business系统代表发送，接受系统，可以把business系统赋给任意的technical系统</li><li>在ABAP系统上，可以把一个business系统分配给每个客户端</li><li>business系统被导入ID中，创建完需要assign</li><li>一般一个business系统对应一个technical系统对应多个software component</li><li>business系统中包括software component versions（swcv），每个swcv有自己的接口</li></ul><h6 id="ESR"><a href="#ESR" class="headerlink" title="ESR"></a>ESR</h6><ul><li>object name，software component name，namespace三者决定一个object</li><li>除了business，technical系统，product，software component name（在技术系统上run）也在SLD上创建</li><li>在software component verison中，创建namespace来存储在业务流程中使用的接口对象</li><li>接口对象包括出入接口，还有mapping的细节</li><li>可以使用接口：RFC,，IDoc，XSD，WSDL等，可以在ESR手动创建</li><li>可以在ESR定义出入接口，如果与出入message不匹配，可以定义mapping规则来结构mapping，有一个图形化的mapping工具，或者可以自己写程序（java，ABAP，XSLT）。除此之外，还可以定义value<br>mapping，将结构值mapping成入结构需要的值</li></ul><h6 id="实现一个场景"><a href="#实现一个场景" class="headerlink" title="实现一个场景"></a>实现一个场景</h6><ul><li>创建处理步骤，将出入接口赋给这些步骤，用线连接，可以表示同步或异步连接。</li><li>选择出接口给发送系统，入接口给接受系统，再specify一个mapping程序来map出入接口。</li><li>这些场景和配置可以当成配置模板，来简化标准场景的实现</li><li>Message可以被IE（pipeline processing）或者AAE处理，取决于adapter和功能。</li></ul><h6 id="ID"><a href="#ID" class="headerlink" title="ID"></a>ID</h6><ul><li>ESR只存储与软件成分开发对象相关的信息。对于这些对象，是否安装软件成分或者安装在哪个服务器上不重要，为了使业务流程在分布式的环境中运行，需要存储在集成目录中的配置对象</li><li>ID负责发送方，接受方，adapter和其他的一些配置（发送者协议，接收方确定，接口确定，接收方协议）</li><li>可以提供一个对象，这个对象绑定了所有的配置场景中的配置对象，配置场景使得配置对象更加容易使用</li></ul><h6 id="IE："><a href="#IE：" class="headerlink" title="IE："></a>IE：</h6><ul><li>连接系统前保证接收发送者的message，发送到接收者message都是XML格式（PI format）</li><li>Local IE 是SAP Basis 6.20以后的，可以集成XML格式，直接交换信息，使用SAP Process Integration proxies</li><li>Adapter是另一个连接方法，将message转成xml，输出xml再转回去。可以使用合作伙伴的adapter</li></ul><h6 id="处理过程pipeline"><a href="#处理过程pipeline" class="headerlink" title="处理过程pipeline"></a>处理过程pipeline</h6><ul><li>当一个符合format的message到了integration server时，processing开始</li><li>配置数据决定sender和sender interface，这叫logical routing</li><li>如果有多个sender，系统复制message，对于每个receiver，message从send interface map到receiver interface</li><li>Pipeline决定技术方法与sender通信，这叫technical routing</li><li>最终系统发送信息到指定的系统或者adapter</li><li>在一个使用企业服务的应用中，PI作为一个企业服务的bus来促进各个服务之间的相互调用，接口集中存储在ESR中。PI和SAP Composition Environment都使用ESR。</li></ul><p><img src="/2018/11/02/PI/8.png" alt="示例图片" title="示例图片"></p><h6 id="SOA-Service-Oriented-Architecture"><a href="#SOA-Service-Oriented-Architecture" class="headerlink" title="SOA(Service-Oriented Architecture)"></a>SOA(Service-Oriented Architecture)</h6><ul><li>面向服务的架构是一种软件体系结构，应用程序的不同组件通过网络上的通信协议向其他组件提供服务。通信可以是简单的数据传递，也可以是两个或多个服务彼此协调连接。这些独特的服务执行一些小功能，例如验证付款、创建用户帐户或提供社交登录等。</li><li>面向服务的架构不太关于如何对应用程序进行模块化构建，更多的是关于如何通过分布式、单独维护和部署的软件组件的集成来组成应用程序。这些通过技术和标准来实现，通过技术和标准使得组件能够更容易地通过网络（尤其是IP网络）进行通信和协作。</li><li>SOA架构中有两个主要角色：服务提供者（Provider）和服务使用者（Consumer）。而软件代理则可以扮演这两个角色。该Consumer层是用户（人、应用程序或第三方的其它组件）与SOA交互的点，和Provider层则由SOA架构内的所有服务所构成。</li><li>SOA首先在90年代中期得名，当时一家名为Gartner Group的公司认识到了这个软件架构的新趋势，并在全球推广。通过这样做，他们设法大大加快了这种架构模式的采用和进一步发展。然而，使用分布式服务作为软件体系结构的最早记录可追溯到二十世纪80年代初。</li><li>现在比较推崇微服务（micro service），可以把微服务当做去除了ESB的SOA。ESB是SOA架构中的中心总线，设计图形应该是星形的，而微服务是去中心化的分布式软件架构。SOA集中数据存储，微服务独立数据存储，轻量级协议，通常云平台，解耦。</li></ul><p><img src="/2018/11/02/PI/9.png" alt="示例图片" title="示例图片"></p><hr><h4 id="Unit-2-SLD"><a href="#Unit-2-SLD" class="headerlink" title="Unit 2 SLD"></a>Unit 2 SLD</h4><h5 id="知识点"><a href="#知识点" class="headerlink" title="知识点"></a>知识点</h5><ul><li>software component是模块化实体，可以用在不同的产品上，是进一步开发的组件，所以有各个版本。</li><li>SLD中，独立的对象叫做软件特性，表示产品版本和软件组件版本的关系，复杂的软件特性让你能够展示复杂的产品。</li><li>事务码SLDHTMLGUI连接SLD。</li><li>Software Catalog里看产品组件版本信息，SAP的自动导入，不是SAP的要手动导入. SAP Service Marketplace提供最新的更新，应该2年导入更新一次。</li><li>software component的外部接口信息存储在ESR中，会创建namespace，来标志每一个接口对象。</li><li>接口最主要的对象是service interface，还有服务操作，信息类型，和数据类型</li><li>product和software component是在系统级，因为sap系统的发展对象不是客户特定的</li><li>注册Tech系统的前提是激活了SLD的data supplier bridge，配置完成后，specify RFC的gateway</li><li>配置data supplier bridge：RZ70，ERP6.04之后，也表示收集产品版本的信息</li><li>Product versions are software units that can be installed on your system and do not run independently of other software(错误)</li><li>在SLD上可以创建product和component，再assign给technical和business system</li><li>The Enterprise Service Repository within the software component version stores detailed information about the external interfaces of a software component</li><li>The Java component SLD data supplier is deployed and started for the SAP NetWeaver AS Java server</li><li>when using a single SLD for your entire system landscape, define groups of business systems and transport targets so that you can map and manage each part of your system landscape independently</li></ul><hr><h4 id="Unit-3-ESR"><a href="#Unit-3-ESR" class="headerlink" title="Unit 3 ESR"></a>Unit 3 ESR</h4><h5 id="Usage-profiles"><a href="#Usage-profiles" class="headerlink" title="Usage profiles"></a>Usage profiles</h5><p>Usage profiles用来view和work with指定的对象类型，软件部件版本，模型过滤器。其他的会被隐藏。在ESB中，登陆后选择一个，之后可以改。</p><p>3个predefined的usage profiles：</p><ul><li>Service Development：促进建模和接口开发</li><li>Process Integration：跨组件过程建模，接口开发，mapping，adapter对象</li><li>Unrestricted：SD和PI所有可用的对象类型</li></ul><h5 id="类型"><a href="#类型" class="headerlink" title="类型"></a>类型</h5><p><img src="/2018/11/02/PI/10.png" alt="示例图片" title="示例图片"></p><p>Data Type: </p><ul><li>Freely modeled data types</li><li>Core data types (CDTs)</li><li>Aggregated data types</li></ul><p>SAP 用 CDTs 和aggregated data types来创建enterprise service的signature; 一个CDT定义了一个主要部件（也指内容部件）和一个或者多个可选的补充部件; 数据类型是接口的基本组成; GDTs的基础是CDTs，可重用，更加广，需要重定义; CDTs不是应用特定，而是上下文无关</p><p>Message Type: </p><p>​    描述PI消息的结构，决定消息的根元素，当成单个或者复杂的数据类型，出入接口都能用。ESR中提供XSD版本的消息</p><p>Service Interface:</p><p>​    使用服务接口来描述操作</p><p>WSDL（Web Service Description Language）,接口在WSDL中可用，WSDL中，消息类型变成消息元素，数据类型变成类型元素，接口本身变成端口元素; Context对象,封装了XPath的表达，另一种舒服的表达，有意义的名字，和公司相关</p><p>创建接口三个方法：</p><ul><li>Service interface and service operation</li><li>External definition</li><li>Imported objects</li></ul><p>创建服务接口和服务操作：</p><ul><li>ESB</li><li>SAP NetWeaver Developer Studio</li></ul><p>外部接口定义可用：</p><ul><li>WSDL</li><li>XSD</li><li>DTD</li></ul><h5 id="同步与异步"><a href="#同步与异步" class="headerlink" title="同步与异步"></a>同步与异步</h5><p>同步处理：</p><ul><li>发送系统发一条请求，等一个回应</li><li>直到收到回应或者错误之前，发送过程是堵塞的</li><li>服务接口包括至少两种消息类型，一个发送请求，一个回应（或者错误信息）</li><li>为了防止连接错误，不知道数据记录在目的地有没有完全处理</li><li>发送系统负责处理错误，而不是PI</li></ul><p>异步处理：</p><ul><li>发送系统发送请求，不等回应</li><li>发送系统可以持续工作，和接受系统处理消息分开</li><li>只要PI选为agent，当消息发送后，接收系统不需要可用</li><li>这时，GUID附加在data上，和data一起存储，接受系统可以判断消息记录是否在连接被中止之前被处理</li><li>发送接受系统需要支持重启</li></ul><p>QoS是流程集成XML消息的处理模式，可以区分同步处理和异步处理。 同步处理的QoS叫做BE（Best Effort），可以与sRFC相媲美。在异步场景中，处理序列也很重要。这也可以指数据记录的内容依赖性以及性能方面。如果不同时发送数据记录，性能就会提高。为了实现消息的序列化，数据记录被放入队列。在使用PI时，QoS总是按顺序排列(EOIO)。在RFC场景中，排队。RFC(qRFC)是一种特殊的tRFC。</p><h5 id="通信"><a href="#通信" class="headerlink" title="通信"></a>通信</h5><p>有状态通信（指的是接收端的消息而不是PI）：</p><ul><li>不支持提供者局外人的状态</li><li>允许存储消息的状态信息，未来这个信息可以用来处理其他消息</li></ul><p>无状态通信：</p><ul><li>在消息成功处理后支持提供程序端的状态</li><li>消息接收器的运行时不支持使用消息的处理时间存储状态信息。</li></ul><h5 id="SAP-ACK"><a href="#SAP-ACK" class="headerlink" title="SAP ACK:"></a>SAP ACK:</h5><ul><li>ACK是异步消息的确认（对于同步信息，发送者都会收到response）</li><li>系统ACK提供发送消息的信息</li><li>应用ACK提供消息在应用中处理的信息</li><li>请求ACK只在代理接口和集成处理中生效</li><li>返回ACK只在代理接口，集成处理，一些适配器中生效</li></ul><p>通过异步通信，发送方系统不会收到消息是否到达收件人的ACK，目标系统中也没有关于业务处理的信息。例如，发送方使用sap pi异步发送消息。发送方只收到技术响应确认消息已被sap pi接收，但它没有说明消息是被成功转发的还是被代理的。目标系统应用。为了提供这一信息，sap pi方便了ACK的使用。</p><p>下列条件适用于请求确认：</p><ul><li>在代理方法调用中指定所请求的确认类型(应用程序或系统，肯定或否定，或替代者已完成)。</li><li>确定使用方法调用发送的消息id。</li><li>使用消息id并在正在运行的程序中直接检查消息是否已返回。</li><li>缓冲消息id，然后检查通过主动使用消息id接收到的任何确认。</li></ul><p>ACK的确认</p><ul><li>代理服务器自动创建请求ACK</li><li>一个积极的系统ACK在消息传到目标系统时创建</li><li>一个积极的应用ACK在执行代理服务器方法没有异常发生时创建</li><li>如果上述条件没有得到满足，一个消极的ACK发送</li><li>接收者适配器，运行在适配器引擎支持系统ack，当其被发送者要求</li><li>如果信息成功的被适配器处理或者处理中异常发送，这些ack被触发</li><li>接收者适配器不支持应用ACK（除了RNIF和CDIX外）</li></ul><h5 id="Message-Monitoring"><a href="#Message-Monitoring" class="headerlink" title="Message Monitoring"></a>Message Monitoring</h5><ul><li>ACK—Status 中可以看到ACK的请求，发送情况</li><li>在reliable messaging下，可以看到ACK是否被请求</li><li>ACK没有被作为monitoring中的消息列出来，只是一部分</li></ul><h5 id="题目"><a href="#题目" class="headerlink" title="题目"></a>题目</h5><p>You browse for services in the Enterprise Repository Workplace</p><p>You can import interfaces with structures that have not been defined using Web Service Description Language, eXtensible Markup Language Schema Definition, or Data Type Definition into the Enterprise Services Repository（false）</p><p>stateless and stateful communications are available basic interface patterns</p><hr><h4 id="Unit-4-Mapping-in-ESR"><a href="#Unit-4-Mapping-in-ESR" class="headerlink" title="Unit 4 Mapping in ESR"></a>Unit 4 Mapping in ESR</h4><h5 id="知识点-1"><a href="#知识点-1" class="headerlink" title="知识点"></a>知识点</h5><ul><li>Message mappings：使用图形化mapping工具来进行mapping。您可以使用message type、outbound interface或inbound interface、Idoc或RFC签名作为source和target结构。也可以导入xml或xsd作为template。</li></ul><p><img src="/2018/11/02/PI/11.png" alt="示例图片" title="示例图片"></p><ul><li>Mapping functions：例如将两个字段合成一个字段或者转换日期。在目标字段mapping中，为每个target字段创建rule。这些rule定义用于确定结果值的source字段。这些rule不是附加到souce字段，而是附加到target字段。每个source字段可以在任意数量的target字段映射中重用。然而，每个target字段只有一个目标字段mapping。</li><li>Structure mapping：当发送者outbound interface与接收者inbound interface不一样时，需要分配语义相同的字段。</li><li>Value mapping：转换rule的mapping过程，以转换为目标格式</li><li>Operation mapping：创建interface的连接。在操作映射中，您通常可以引用outbound的service interface、IDOC或RFC接口作为outbound interface。您可以引用inbound的service interface、IDOC或RFC接口作为inbound interface。通过使用message mapping、XSLmapping、java类、abap类或abap xsl转换的mapping过程。您可以在操作mapping中引用程序。</li></ul><ul><li>异步的operation mapping</li></ul><p><img src="/2018/11/02/PI/12.png" alt="示例图片" title="示例图片"></p><ul><li>同步的operation mapping</li></ul><p><img src="/2018/11/02/PI/13.png" alt="示例图片" title="示例图片"></p><ul><li>在同步接口的情况下，有一个用于查询的数据包，一个用于来自服务器同步接口的response。因此，operation mapping必须包含request和response的mapping程序。客户端outbound interface包含resquest的outbound message和response的inbound message。这些入站接口包含用于查询和响应的出站消息的目标消息。如果客户端出站消息和服务器目标消息没有相同的结构，则创建一个映射程序。如果服务器出站消息和客户机内消息没有相同的结构，则创建一个映射程序。您可以依次执行几个映射。提示：如果在服务接口中使用错误消息类型，则可能还需要一个映射程序。</li><li>异步场景说明了sap管道是如何工作的。sap pi中的处理和配置步骤是本文的重点区域。sap pi以专门的xml格式接收文档，标识接收方或接收方，并以特殊的XML格式发送每个接收方系统的一个文档。发送方系统用于将文档传输到sap pi的数据格式。有各种适配器可用于转换文档。对于XML格式，即sap pi预期。同样的原则适用于接收系统。如果需要，适配器也可以将文档转换为接收方支持的格式。文档总是在sap pi中以相同的方式处理。这是用基于一个简化的材料主数据分发示例的演示和练习来说明的。发送者系统由一个http剪贴器模拟。一个文件是为一个虚拟接收系统创建的。</li></ul><h5 id="在设计时创建的对象"><a href="#在设计时创建的对象" class="headerlink" title="在设计时创建的对象"></a>在设计时创建的对象</h5><ul><li>所有要用的软件组件的名字都输入到SLD，再到ESR</li><li>所有软件组件的出入接口都在ESR可用</li><li>一条mapping规则对应每一次数据交换，如果接口结构不同，创建mapping程序</li></ul><h5 id="PI场景的好处"><a href="#PI场景的好处" class="headerlink" title="PI场景的好处"></a>PI场景的好处</h5><ul><li>支持绑定ESR使用的接口和映射。</li><li>提供业务流程的图像overview。</li><li>提供配置的可能模板。</li></ul><h5 id="Actions"><a href="#Actions" class="headerlink" title="Actions"></a>Actions</h5><ul><li>定义actions，map一个业务流程，可以用在应用组件</li><li>把出入接口赋给actions</li><li>一个连接应用组件actions的场景，这个连接specifies哪个出和哪个入相匹配，用哪个operation mapping</li></ul><h5 id="题目-1"><a href="#题目-1" class="headerlink" title="题目"></a>题目</h5><p>You can import external XML files into the message mapping as structure templates</p><p>You do not have to know the exact number of systems in a system landscape when you design a scenario in the Enterprise Service Repository at design time.</p><hr><h4 id="Unit-5-ID"><a href="#Unit-5-ID" class="headerlink" title="Unit 5 ID"></a>Unit 5 ID</h4><h5 id="配置视图"><a href="#配置视图" class="headerlink" title="配置视图"></a>配置视图</h5><ul><li>业务系统在SLD中创建，每个业务系统匹配一个技术系统，业务组件在ID中创建</li><li>配置视图包括出入接口和对应系统</li><li>在ID中对配置视图进行配置</li><li>用AAE来创建配置视图</li></ul><p>在配置视图中，重点是在物理系统环境中实现场景。配置视图确定要使用哪个系统和出站接口向不同的系统和内部接口发送消息。您可以将发送方和接收方指定为业务系统主体作为业务组件。</p><p>您可以在集成目录中存储用于集成场景运行时的配置数据。该数据包括消息发送方和接收方系统的表示。在SAP流程集成中，消息的发送器或接收方有三种类型。</p><h5 id="通信组件类型"><a href="#通信组件类型" class="headerlink" title="通信组件类型"></a>通信组件类型</h5><p>PI的三种接收者和发送者</p><ul><li>业务系统</li><li>业务组件（业务服务）</li><li>集成流程</li></ul><p>集成场景的配置数据放在ID上面。</p><p>业务系统、业务组件和集成流程可以是消息的发送方和接收方。集成流程运行在集成服务器的业务流程引擎(BPE)上。这意味着，对于集成过程，集成引擎清楚消息来自何处以及消息从何处发送。这不适用于业务系统和业务组件。指定发送方或发送方的信息。可以联系到的接收方通信组件必须存储在集成目录中。此外，必须将消息转换为目标系统理解或转换为流程集成XML消息的格式，然后将其传递给集成服务器。此任务由适配器执行，您在其中定义内界或传出消息适配器的配置对象称为通信通道。</p><h5 id="创建通信通道"><a href="#创建通信通道" class="headerlink" title="创建通信通道"></a>创建通信通道</h5><ol><li>选择通信组件。指定要为其创建通信通道的通信组件(例如，业务系统)。</li><li>输入名称。输入通信通道的名称。如果可能的话，选择一个不言自明的名称，例如rfc_send。</li><li>选择适配器类型。指定连接详细信息(例如，用于文件访问的文件适配器)以及它是发送方还是接收方。</li><li>选择适配器引擎和协议。除了中央适配器引擎(CAE)，您还可以有其他本地适配器引擎。您还需要输入传输和消息协议的详细信息，如Exchange基础设施(Xi)2.0或XI 3.0、网络文件系统(Nfs)或文件传输协议(Ftp)等)。</li><li>输入特定于适配器的参数。</li></ol><p>为每个适配器输入额外的详细信息(例如，文件接收者的目标目录)。在导入业务系统时，可以指定是否生成标准通信通道。一旦生成通信通道，就需要为每个业务系统输入准确的参数和自定义信息。</p><p>AAE（central，noncentral or advanced）are used for creating the configuration view for the integrated configuration。</p><hr><h4 id="Unit-6-ID-configuration-for-ABAP"><a href="#Unit-6-ID-configuration-for-ABAP" class="headerlink" title="Unit 6 ID configuration for ABAP"></a>Unit 6 ID configuration for ABAP</h4><h5 id="知识点-2"><a href="#知识点-2" class="headerlink" title="知识点"></a>知识点</h5><p>ID中的对象：</p><ul><li>发送方协议</li><li>接收方确认</li><li>接口确认</li><li>接收方协议</li></ul><ul><li>除了Integration Builder的通信组件(发送方和接收系统)和通信信道之外，在ID中还需要接口对象来处理来自IE运行时的传入消息。</li></ul><ol><li>发送方协议不一定需要（当使用代理接口的时候）</li><li>对象一定要定义</li><li>如果您想要验证消息针对已定义的模式(在自定义中)，IE或AAE将此作为消息处理的第一步</li><li>在传入消息的情况下，管道首先对接收方确定对象进行评估</li><li>配置场景是可选的，而不是运行时相关的。基于参考配置，配置场景提供用户对所需的业务场景对象的overview。</li></ol><h5 id="ABAP-Runtime-Engines"><a href="#ABAP-Runtime-Engines" class="headerlink" title="ABAP Runtime Engines:"></a>ABAP Runtime Engines:</h5><ul><li>Integration Engine: SAP PI的运行环境接受进程，传递XML消息</li><li>Central Integration Engine: SAP PI的运行环境负责处理步骤，比如确认接收方，用Central pipeline接口确定</li><li>Local Integration Engine：PI代理信息的运行环境，在SAP的后端系统，使用SENDER or RECEIVER pipeline来实现与PI的数据交换</li><li>Pipeline：IE执行的一系列消息处理步骤</li><li>Queues：对于异步处理，IE的信息通过queues来处理</li></ul><p>IE属于SAP流程集成的运行时环境，用于根据您所配置的业务流程交换消息。您使用Integration Builder的配置目录创建您的配置。XML消息的接收方是在入站处理期间的逻辑和技术路由中确定的。进一步处理取决于确定的接收方数量。</p><p><img src="/2018/11/02/PI/15.png" alt="示例图片" title="示例图片"></p><p>Queuing in pipeline processing:</p><ul><li>The inbound SAP Process Integration XML message is first placed in an inbound queue and then sent to the pipeline.</li><li>After a message from the inbound queue has been read, logical routing takes place and if necessary the message is split.</li><li>The message is placed in an outbound queue.</li><li>The outbound queues serve as inbound queues for the processing steps-mapping and technical routing of the pipeline.</li><li>The message is placed back into an outbound queue assigned to the message receiver.</li><li>The message is sent to the receiver through an adapter or sent directly by using the proxy technology.</li></ul><p>​                                             </p><p><img src="/2018/11/02/PI/14.png" alt="示例图片" title="示例图片"></p><p>SOAP standstard (Simple Object Access Process)</p><ul><li>Define how XML messages are structured</li><li>Conclude a header that contains information, including errors, in the form of message attributes</li><li>A HopList detailing the stages that the document has passed through, and runtime and performance information.</li><li>The actual application data (payload) is contained in the attachments</li></ul><p>SOAP message:</p><ul><li>Header</li><li>Main: Sender Service and Sender Interface for receiver determination(additional Party attribute for B2B scenarios)</li><li>HopList: the stations through which the message is forwarded are logged </li><li>Reliable Message: QoS(quality of service) defines whether the message is processed synchronously (Best effort) or asynchronously(Exactly once) by the pipeline. In case of asynchronous processing, you also have the option of processing with serialization(exactly once in order)</li><li>Body: a link to payload, which contains the actual application data.</li><li>Payload: actual application data in the structure of the outbound interface.</li></ul><p><img src="/2018/11/02/PI/16.png" alt="示例图片" title="示例图片"></p><h5 id="Message-transfer-to-PI"><a href="#Message-transfer-to-PI" class="headerlink" title="Message transfer to PI"></a>Message transfer to PI</h5><ul><li>Proxy sender: local IE sends it directly to the pipeline by using HTTP(s), no need to convert</li><li>Sender uses an adapter: adapter in AE converts the message sender format into a sap PI XML format. The adapter then transfer the message to the pipeline by using HTTP(s)</li><li>Sender sends plain HTTP: a service sends an XML document to the HTTP service</li><li>Sender uses an enterprise service or a web service to address SAP PI. PI now supports new standard WS-Reliable Messaging (WS-RM) using its own, newly implemented inbound processing on the IE</li></ul><p>Usually a message is transferred to the pipeline in a special SOAP document format by using HTTP(s).</p><p>The XML document is received by using the Internet Communication Manager(ICM).</p><p>The remaining pipeline steps are defined by the configuration in the IS.</p><p><img src="/2018/11/02/PI/17.png" alt="示例图片" title="示例图片"></p><h5 id="Ways-to-determine-a-receiver"><a href="#Ways-to-determine-a-receiver" class="headerlink" title="Ways to determine a receiver"></a>Ways to determine a receiver</h5><ul><li>Cancel message processing with an error(restart possible)</li><li>End message processing without an error(restart not possible)</li><li>Continue with message processing with the following receiver. You can name an alternate receiver</li></ul><p>Communication party, communication component, interface and namespace 决定一个receiver</p><h5 id="XML-Validation"><a href="#XML-Validation" class="headerlink" title="XML Validation"></a>XML Validation</h5><ul><li>只在JAVA栈</li><li>同步异步没有区别</li></ul><p>In the sender agreement</p><ul><li>Takes place in the pipeline processing of the IE</li><li>Takes place directly on entry to the AAE(JAVA)</li></ul><p>In the receiver agreement</p><ul><li>Takes place in the pipeline processing of the IE</li></ul><h5 id="题目-2"><a href="#题目-2" class="headerlink" title="题目"></a>题目</h5><ul><li>You create your configuration using the configuration directory of the Integration Builder. The receiver of an XML message is determined in the logical and technical routing during inbound processing</li><li>The communication profile objects list the cross-scenario configuration objects, which include communication components and channels</li><li>You can display the processed messages in message monitoring</li><li>Communication party, communication component, interface and namespace uniquely identify the receiver determination</li><li>If more than one receivers is determined by the receiver determination, the message is copied for each receiver after the interface determination. This is known as message branching</li></ul><hr><h4 id="Unit-7-ID-configuration-for-JAVA"><a href="#Unit-7-ID-configuration-for-JAVA" class="headerlink" title="Unit 7 ID configuration for JAVA"></a>Unit 7 ID configuration for JAVA</h4><p><img src="/2018/11/02/PI/18.png" alt="示例图片" title="示例图片"></p><p>大家注意！！！</p><p>classic的才要determination和agreement，现在只需要integrated processing，也就是integrated configuration！！！一步到位！！！不能都有，会有冲突报错！！！真tm6！</p><p><img src="/2018/11/02/PI/19.png" alt="示例图片" title="示例图片"></p><h5 id="问题"><a href="#问题" class="headerlink" title="问题"></a>问题</h5><ul><li>Advanced Adapter Engine perform Integrated processing and Routing</li><li>Advanced Adapter Engine Extended is a cost-saving option compared to a full installation of SAP NetWeaver Process Integration</li><li>When an integration flow is complete, it is deployed to the runtime, where the actual execution of a process integration takes place</li></ul><h4 id="Unit-8-Operation-of-PI"><a href="#Unit-8-Operation-of-PI" class="headerlink" title="Unit 8 Operation of PI"></a>Unit 8 Operation of PI</h4><h5 id="monitor类型"><a href="#monitor类型" class="headerlink" title="monitor类型"></a>monitor类型</h5><ol><li>message overview:  provides an overview of the message processing during a specific time period and aggregates messages by processing status</li><li>end-to-end monitor: monitors the infrastructure components of SAP NetWeaver PI and the path of individual messages through these components from start to end</li><li>component monitor: provides insight into the health status of the individual components of SAP NetWeaver PI</li><li>integration process monitor: provides insight into the execution of integration processes in the business process engine(BPE) and displays aggregated and detailed information about processes and process instances</li><li>background job monitor: provides an overview of background jobs specific to the BPE</li><li>message monitor(database): displays the details of message processing on the IE</li><li>performance monitor: displays the performance of message processing on the IE</li><li>cache monitor: displays the cached object on the integration engine cache,AAE cache, and mapping runtime cache</li><li>IDoc monitor: provides the details of IDoc messages processed on the IE and AAE</li><li>System Landscape Directory(SLD) registration checks: Checks if the components of SAP NetWeaver PI were registered correctly during the technical configuration phase(you can apply corrections to the registration as well as register further components)</li><li>Security data achiving: enables the administrator to configure the archiving of messages that are processed by the AAR processes and that use secure multipurpose internet mail extension(S/MIME) security</li></ol><h5 id="题目-3"><a href="#题目-3" class="headerlink" title="题目"></a>题目</h5><ul><li>Data archiving cockpit is included in operation management</li><li>component monitoring provides a uniform interface to monitor ABAP and Java component</li><li>integration process monitor is used to display the aggregated and detailed information about processes and process instances</li></ul>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h4 id=&quot;Unit-1-PI-Architecture&quot;&gt;&lt;a href=&quot;#Unit-1-PI-Architecture&quot; class=&quot;headerlink&quot; title=&quot;Unit 1 PI Architecture&quot;&gt;&lt;/a&gt;Unit 1 PI Architectu
      
    
    </summary>
    
    
      <category term="SAP" scheme="http://yoursite.com/tags/SAP/"/>
    
  </entry>
  
  <entry>
    <title>SAP Service Delivery</title>
    <link href="http://yoursite.com/2018/11/01/service/"/>
    <id>http://yoursite.com/2018/11/01/service/</id>
    <published>2018-11-01T13:59:47.000Z</published>
    <updated>2018-11-01T14:04:40.821Z</updated>
    
    <content type="html"><![CDATA[<h5 id="service流程"><a href="#service流程" class="headerlink" title="service流程"></a>service流程</h5><ol><li><p>service request，TQM（technical quality management）的任务，和客户沟通，了解客户需要什么service，了解需求，创建service plan 和 service order，提出最初需求，很多不是技术出身</p></li><li><p>scoping，OSM和scoping member（COE各个leader和manager）提出，具体化需求，需要多少人天，和TQM协商，使用的技术，onsite还是remote</p></li><li><p>staffing，OSM的任务，使用RPA，通过schedule set看到人员availability，哪段时间有空，然后让人员book他，也会和leader和manager沟通，公开透明的</p></li><li><p>delivery，COE宗旨要求所有的service需要在客户的solution manager上delivery，坦白说从来没有做到过，因为有时客户没有solution manager，或者不能用。万一onsite的时候客户的solman用不了 ，第一可以通知TQM重新把plan重新order，把solman定义为SAP的，但是我们的solman不与客户系统直接相连，第二个和客户协调，在deliver service之前就修好。如果是在是意外情况，可以用一个word template去写，一般back office会reject，但发生不少，还是会technical review，但很麻烦，写的不好还要打回去改，所以说尽量不要这样做</p><p>QA，COE service的KPI，最后一天要给客户report slice，一周以内给客户report，很多同事solman都不连，笔头记录，强烈建议每天在solman上maintain，business process，issue。最好最后一天已经把issue management已经写好了。最好不要增加大家的workload。现在只judging红灯的report，中国客户是back office自己judging，东南亚客户MCS新加坡同事参与进来。对于黄灯和绿灯不会做judging，除非有判断分歧，这时候要开judging meeting，但红灯情况不多，因为有很多服务是来避免这种情况，比如IV。一般实施过程中如果买了我们safeguarding的服务，很少会在后面还发生红灯情况。QA第一件事先查看solman usage，然后再report judging。提交QA request的时候状态是in process by QA，最终改成QA completed</p></li><li><p>handover，OTL（onsite team leader），上交report给TQM和OTL，后续打电话check feedback，service方面的需求尽量找TQM，而不是直接找OTL，虽然OTL也有资源，直接找OTL的情况也很多，但这是不提倡的</p></li></ol><p><img src="/2018/11/01/service/1.1.png" alt="示例图片" title="service过程"></p><h5 id="Incident-Handling"><a href="#Incident-Handling" class="headerlink" title="Incident Handling"></a>Incident Handling</h5><ol><li>在BCP中帮客户创建incident</li><li>客户有时完全不critical的问题也会报very high，如果是maxattention或active embedded的客户，issue会进入到RCA team，我们组轮流派人RCA（route cause analysis），在9楼等着接电话，这都是非常critical的issue</li><li>我们的responsibilities是只负责产品的error，做了一件事情报了错，而且不是配置错误，是产品本身的错误，我们才负责，如果你问我要怎么做，怎么做一个备份，月结etc，没有义务免费回答</li><li>action plan time（APT），very high的情况给4个小时，action plan很可能是需要客户提供一些东西，而不一定是solution</li><li>initial response time（IRT），接到service，告诉客户我们已经看到这个incident了的时间，very high 一小时</li><li>maximum processing time（MPT），包含客户和我们处理的时间</li><li>这些时间会用红黄绿灯标志，红overdue，黄还半小时，绿没事</li></ol>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h5 id=&quot;service流程&quot;&gt;&lt;a href=&quot;#service流程&quot; class=&quot;headerlink&quot; title=&quot;service流程&quot;&gt;&lt;/a&gt;service流程&lt;/h5&gt;&lt;ol&gt;
&lt;li&gt;&lt;p&gt;service request，TQM（technical qua
      
    
    </summary>
    
    
      <category term="SAP" scheme="http://yoursite.com/tags/SAP/"/>
    
  </entry>
  
  <entry>
    <title>SAP Value Assurance</title>
    <link href="http://yoursite.com/2018/10/31/Assurance/"/>
    <id>http://yoursite.com/2018/10/31/Assurance/</id>
    <published>2018-10-31T12:30:10.000Z</published>
    <updated>2018-10-31T12:33:15.717Z</updated>
    
    <content type="html"><![CDATA[<h5 id="知识点"><a href="#知识点" class="headerlink" title="知识点"></a>知识点</h5><ul><li>价值保障：对sap的新产品的一些服务，针对S/4 HANA On Premise</li><li>S/4 HANA Cloud迭代很快，每个Q都有一个新的版本</li><li>S/4 HANA On Premise每年一个版本，1511，1610，1709，1809，基本都是9，10月份</li><li>现有的ERP在2025年maintain会结束，希望现有ERP客户向S/4 HANA 上迁移，但迁移不是一蹴而就的，底层架构不一样，表结构</li><li>SAP主要是卖软件的，不是负责实施的，但会提供服务，VA就是一个服务包，是保证客户快速有效的使用我们的产品，体现产品的价值</li><li>客户需要付license和maintain费，17%-22%，叫企业级服务，客户出问题可以给SAP ticket，SAP给支持，包括remote和onsite，来delivery</li><li>客户还可选择超过22%的钱，相当于VIP客户，可以采购更多service，分为maxattention和active embedded</li><li>active embedded是少于300人天，maxattention大于300人天，COE服务的全是maxattention客户</li><li>还有一些professional service，顾问服务，因为ERP不是即插即用的，客户买了软件，装完之后，需要做后台业务上的配置，包括主数据的配置，业务流程的配置，这需要咨询，和客户的应用客户进行访谈， 把客户的想法在系统中体现出来，但COE主要还是做PE的service，VA是PE的一部分，IV也是PE的一部分。PE（premium engagement）</li><li>SAP solution manager集中进行service，solman</li><li>S/4 HANA现在推崇除了SAP kernel，其他所有部件都放在云上，现在并没有全部在云上，有两个版本OP和Cloud两条腿走路，APO将来会被3部分取代，S/4 kernel，IBP，还有一部分直接被简化掉。SCM采购部分会被Ariba取代，ECC里的HCM被successfactor取代，整体而言核心都放在kernel，其他全部在云上面</li><li>SAP的战略咨询是基于SAP软件的路线图，而麦肯锡咨询是偏业务</li><li>IV服务分4种：<ol><li>plan and safegound，最便宜，计划和保驾护航</li><li>accelerate technical implementation，技术实现</li><li>accelerate functional realization，业务实现</li><li>innovate，最贵，大于1000人天，有新的idea，和sap一起联合创新</li></ol></li><li>客户基本都要自开发，写代码调用sap的接口，SAP的原则是标准的支持，自开发的不负责，有对应服务包帮你改</li><li>派你做什么service，就去SAP Jam VA link中心查相关的source</li></ul><h5 id="Road-map"><a href="#Road-map" class="headerlink" title="Road map"></a>Road map</h5><p><img src="/2018/10/31/Assurance/1.1.png" alt="示例图片" title="示例图片"></p><h5 id="一些服务包"><a href="#一些服务包" class="headerlink" title="一些服务包"></a>一些服务包</h5><ol><li>innovation strategy &amp; roadmap: 企业战略层面规划，麦肯锡是业务方面的战略咨询，SAP是基于我们的产品的，客户的需求结合SAP将来产品路线图，来进行digital transformation。3-5年的基于sap产品的规划。针对客户包括instore客户或者新客户</li><li>value &amp; implementation strategy: 项目层面，instore base的客户，不确定搬到S/4之后，有什么好处，有一个工具叫SAP Readiness Check，让客户跑了之后检查ECC版本和S/4版本的变化。对于已有客户，有三条路，系统迁移，重实施，架构转换，基于现在的情况，哪种最合适，这是这个服务最主要的目的，根据现有的业务需求，场景以及sap产品的结合，做一个打分，来决定走哪个路线。</li><li>scoping workshop &amp; prototyping: 如果客户觉得都行，可以做个POC，来比较一下，实现一个场景来看看会发生什么变化</li><li>migration planning workshop: 客户决定做系统迁移，跟客户讨论，在技术上要做哪些准备，在业务上哪些是一定要动的，给出一个项目计划</li><li>transition planning for new implementation: 客户决定重实施</li><li>technical architecture &amp; infrastructure: 架构上的讨论</li><li>analytics architecture: 根据需求，做出分析，用哪种产品</li><li>data migration architecture: 数据迁移服务</li><li>custom code management architecture: 帮客户改自开发代码</li></ol><p><img src="/2018/10/31/Assurance/1.2.png" alt="示例图片" title="示例图片"></p><h5 id="S-4-HANA客户现状（COE内部机密）"><a href="#S-4-HANA客户现状（COE内部机密）" class="headerlink" title="S/4 HANA客户现状（COE内部机密）"></a>S/4 HANA客户现状（COE内部机密）</h5><p>截止2018年9月17日，现在S/4HANA项目一共有4281个，上线了的是2117个 ，431个已经是refs（提供客户案例，分享给其他客户）。其中3210个是OP, 基于cloud的只有430多个，上线了的只有117个，SAP cloud的路还很长。中国有506个S/4 hana客户</p><p>（实习生没有权限看，manager培训上说的）</p><p><img src="/2018/10/31/Assurance/1.3.png" alt="示例图片" title="示例图片"></p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h5 id=&quot;知识点&quot;&gt;&lt;a href=&quot;#知识点&quot; class=&quot;headerlink&quot; title=&quot;知识点&quot;&gt;&lt;/a&gt;知识点&lt;/h5&gt;&lt;ul&gt;
&lt;li&gt;价值保障：对sap的新产品的一些服务，针对S/4 HANA On Premise&lt;/li&gt;
&lt;li&gt;S/4 HANA C
      
    
    </summary>
    
    
      <category term="SAP" scheme="http://yoursite.com/tags/SAP/"/>
    
  </entry>
  
  <entry>
    <title>SAP Integration Validation</title>
    <link href="http://yoursite.com/2018/10/30/IV/"/>
    <id>http://yoursite.com/2018/10/30/IV/</id>
    <published>2018-10-30T12:25:33.000Z</published>
    <updated>2018-10-31T12:34:33.886Z</updated>
    
    <content type="html"><![CDATA[<h2 id="方法论"><a href="#方法论" class="headerlink" title="方法论"></a>方法论</h2><h5 id="五大维度："><a href="#五大维度：" class="headerlink" title="五大维度："></a>五大维度：</h5><ul><li>Data consistency management  系统时间，订单以时间戳追踪，外围，内部系统，Head（列）和item（行）需要同步commit。外围系统同步订单到中央系统，中央系统不会同步到所有的外围系统。直接改中央系统，会发生问题。解决方法，每晚后台作业，抽出A,B系统数据进行对比。更新完整的信息块，logic unit of work。</li><li>Exception management 提示要到位，提供引导性步骤。定位异常位置，5个小灯，哪里红了一目了然。创建instance追踪issue。SAP非常重要的问题：back office有三个时区，中国，欧洲，美国。无缝连接，不加班，晚上下班欧洲的接班，早上起来接美国的班。一般和运维的人打电话。Incident resolution 就是便利贴，需要解释清楚自己做了什么，还有什么问题，才可以接着做。</li><li>System integration and queues 系统集成，队列问题，接口问题，同步异步，两个系统信息如何传达，完整信息块，先后逻辑正常，RFC call。系统集成，设计模块很多，很多是外部系统，sap不能cover，只能进行监控。业务性能用KPI来定义，有一个阈值，光看客户主观感受不能判断，KPI就是一把尺子，超过了这个阈值找SAP才有用。</li><li>Performance and scalability 客户问题百分之80在这里，快与不快，网络问题，数据多，业务数据并发，用户量大，性能下降，订单有10个行项目，10个的时候1s，100个的时候就是10s，这就叫好的延展性，差的可能要一分钟，反应慢，按回车等很久（这种情况很多），代码，数据库，业务逻辑。</li><li>End-of-Day and Volume Processing 批量处理，日结流程（工程，超市等），货架，材料消耗盘点，月结保驾护航，很多企业年底买sap这个服务，平安稳定的月结或年结，后台作业，有依赖关系，先后逻辑，正常时候没问题，8个小时一个订单2小时，但异常情况，重新开始，从哪里开始，断点续传，好的程序前54成功，55失败，则做56，银行部门，后台作业没跑完问题很大。报错后能不能重启的能力。</li></ul><h5 id="知识点："><a href="#知识点：" class="headerlink" title="知识点："></a>知识点：</h5><ol><li><p>IV的顺序：先从这五个维度测量，分析，给建议，改好，验证，不对就循环往复。</p></li><li><p>End-to-end：业务上面讲，一个人买你的东西，给你钱，拿到货，开发票，运货，开始使用，后期维护质保，整个循环；IV系统也一样，完整的服务业务。</p></li><li><p>准备（定义scope）-蓝图-实施（定制化，配置，开发等）-测试（单元，集成，用户等）-切换（数据迁移）-运维（改进），IV从集成测试开始，因为系统间已经可以联通。合作伙伴做的项目，IV不一定可以做成这样，看客户是否强势，强势的话会要求实施方配合sap的工作，否则要一起协商进行。店大欺客，客大欺店。</p></li><li><p>SAP自己实施项目或者合作伙伴（IBM, AC, 汉德等）。新产品，推广产品，倾向于自己做。</p></li><li><p>主营业务判定：进销存，制造，订单，报销</p></li><li><p>技术判定：用户量，数据量</p></li><li><p>issue分优先级：very high（不修好业务做不了，不能上线），high，middle，low</p></li><li><p>wall-to-wall：机房墙到墙，装在屋子里的东西都要管，ui5 client，sap gateway，abap application，sap hana。</p></li><li><p>OCC：运维中控制中心，反复监控，IV告诉你哪里volume很大，哪个接口很脆弱，哪个地方自开发程序太多，哪里对业务比较重要。</p></li><li><p>DBS是卖服务的，以前都分一个一个小服务，现在提倡one service，当然买小服务包也许。</p></li><li><p>Technical Feasibility Check（技术可行性检查），Technical integration check（系统集成检查）是SAP卖的比较好的服务，卖的最好的是Business Process Performance Opt，性能，流程优化，DBS的看家本领。懂点业务，知道取数逻辑，知道算法，看的懂代码，懂数据库的最好，一定要会trace，其他人不会，但SAP DBS的人一定要会。</p></li><li><p>客制化的稳定性，优化程度，性能，数据一致性，异常处理等等不如标准程序好，千锤百炼，进化的比较好。但要考虑实施方的利益，如果都标准化了，单子就变小了，人天变少了，甚至不需要开发，利益就减少了。但从sap的角度，当然希望客户系统干净稳定，持续运行。</p></li><li><p>IV Dashboard：全是绿灯最好，红骷髅头是very high，红色是high，不至于影响到业务发展不下去，灰色表示还没做，或者out of scope，不需要考虑。打绿灯需要勇气，sap最难的是发现不了任何问题，这意味着得打绿灯，意味着出了问题就打脸了。</p><p><img src="/2018/10/30/IV/1.1.png" alt="示例图片" title="示例图片"></p></li><li><p>但打绿灯需要各部门的同意，需要商量，团队作业，比如back office，不用担心，都需要验证的，Senior的同事带junior的同事。一个绿灯，表示包含的step全是绿灯，有一个step红，最终就是红灯。</p></li><li><p>IV人员分配以及计划表格：</p><p><img src="/2018/10/30/IV/1.2.png" alt="示例图片" title="示例图片"></p></li><li><p>这个图有时候自己画，有时候运气好是客户给的。跟业务leader访谈问出来的</p><p><img src="/2018/10/30/IV/1.3.png" alt="示例图片" title="示例图片"></p></li><li><p>灰色的是第三方的，黄的是sap的，外部红点是接口，里面是步骤。需要行业相关的知识。</p><p><img src="/2018/10/30/IV/1.4.png" alt="示例图片" title="示例图片"></p></li><li><p>Management summary：各个地方的服务都要这个。第一段这个客户是谁，用了我们什么产品，想达到什么目的，现在什么状态，核心业务。第二段IV服务什么时候开始，关注了哪些问题，做了哪些检查，有什么进展，目前什么状态，如果有关键问题，下面罗列出来。第三段后面还有什么东西需要注意的。SAP的经典行文八股文，为了让别人迅速理解，便于对接和交付。</p></li><li><p>找归档过的问题，很难碰到新问题，SAP这么多年，开创先河的概率极低，一般系统里都能找到。Findings/current situation，risks/impacts（一定要业务相关的，不能只说程序闪退，要说明如何影响到自己的业务，比如无法定机票，2000用户无法报销），recommendation（应对方法，可以写上note号，不要求你一个人修好，而是描述清楚，便于后面senior的人处理），status（new issue，in process，closed等等）。</p></li></ol><h2 id="技术分析-ST12"><a href="#技术分析-ST12" class="headerlink" title="技术分析 ST12"></a>技术分析 ST12</h2><h5 id="知识点：-1"><a href="#知识点：-1" class="headerlink" title="知识点："></a>知识点：</h5><ol><li><p>Trace的T code是ST12，烂熟于心，记不住就可以离职了</p></li><li><p>百分之80的工作是做trace，百分之20是分析trace</p></li><li><p>Trace记录每个语句，call了多少次</p></li><li><p>好的情况是abap（application数据处理），database（取数据）五五开，如果abap是0，database是100，就是纯粹打印数据库全部数据，没经过加工，不合逻辑。一般关注的是平均值，总量，销售额宏观的东西。如果展示逻辑比较复杂，界面复杂，加个system平均分也行</p></li><li><p>跑过几十万次的语句也很常见，因为是公用的，累积出来</p></li><li><p>Gross指货物净重，net指的是包装的箱子重量。这个箱子整个就是function，function是空的，net就指function本身的时间，gross% = 1 – net%。最上面的语句就是最大的箱子，就像俄罗斯套娃，下面慢慢变小</p><p><img src="/2018/10/30/IV/1.5.png" alt="示例图片" title="示例图片"></p></li><li><p>Gross = net，比如select语句，因为不可再分了，没有壳，最里面的套娃</p></li><li><p>没标type的都是abap语句，还有sys，db，都会标出来</p></li><li><p>Show/hide中可以选择显示出每个语句的简介</p></li><li><p>Last changed by可以显示作者，如果是sap，表示没人动过的，大可以放心，如果是其他的，就需要留心了，和标准程序不一样，需要重点看</p></li><li><p>上面两项需要自己手动显示，默认是不显示的</p></li><li><p>可以切换为per module，module里面的module按照顺序排列，外面还是按时间量排列，第一个module是最大的套娃，里面包括其他套娃</p></li></ol><p><img src="/2018/10/30/IV/1.6.png" alt="示例图片" title="示例图片"></p><ol start="13"><li><p>Server一般都选all server，选指定实例的情况也有，就是出了玄学，其他实例都行，就这个不行的时候</p></li><li><p>Tasktype，username等，来提高trace的纯度，直接筛进关键部分</p></li><li><p>用user/tasks进行trace的情况：事情简单，逻辑清晰，知道程序什么时候运行，谁在运行，拿到用户ID，知道要做什么，用户可控，最好再旁边，追踪语句，module</p></li><li><p>用workprocess进行trace的情况：不知道用户是谁，不知道在干嘛，只知道客户运维部门给你打电话，我的系统现在很慢，怎么回事。这个时候就看他们哪些进程跑得慢，不用输入多少选项，就一个comment和server，追踪进程</p></li><li><p>用current mode进行trace的情况：很苦，没人帮你，客户可能很忙，没空帮你跑业务，告诉你T code和测试数据，particular unit一定要打勾，表示只关心特定的单元，只关心按了某个按钮</p></li><li><p>用schedule进行trace的情况：客户说一个作业每次都很慢，晚上10点开始，时间还很长时，像配置后台作业一样，这是for background，对于for workprocess，for user/tasks，也是，指定时间，不用盯着</p></li><li><p>Trace很耗资源，一般配置好参数（缩小范围），按start，等其他人做好操作，再stop，就得到了这段时间trace</p></li><li><p>Trace 有时duration是0，因为这时进程已经得到cpu了，trace就像是门卫，有些人已经进去了，门卫登记不到了，说明时间太短了，需要拉长时间，不是问题</p></li><li><p>可以看sql，abap，sys各自的summary</p></li><li><p>Sql summary 里的redundant指的是，select语句被调用了100次，但是94次while条件是一样的，redundant越高，可优化程度越高，因为每次while条件给的是一样的，为什么要去db取呢，除非时效性要求特别高，通常不会这样，既然94次一样，可以用1来代替，不必要跑这么多次</p></li><li><p>Sql summary里ident rate指的是每个跑的一样的语句所占比例。比例越高，可优化程度越高</p></li><li><p>优化方法：DB上设置buffer，不用去表里找，写在缓存里面。abap语句上也可以改进，每次select语句之前，先check while条件有没有改变，没有变化的话，直接用接口从内存里面得到结果</p></li><li><p>Statistical records不需要trace，就可以看的到response time，wait time，cpu time等等，默认就是开的。T code：STAD，有些公司甚至可以用这个看谁谁谁今天有没有干活，可以看到今天多少人登陆系统，什么时候上班的，最后一次操作什么时候，干了什么事情。但是时间有限，只能保存48小时，平时做服务没问题，跨周末的时候，周五的事到周一就没了，这就很尴尬。</p></li></ol><p><img src="/2018/10/30/IV/1.7.png" alt="示例图片" title="示例图片"></p><p><img src="/2018/10/30/IV/1.8.png" alt="示例图片" title="示例图片"></p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h2 id=&quot;方法论&quot;&gt;&lt;a href=&quot;#方法论&quot; class=&quot;headerlink&quot; title=&quot;方法论&quot;&gt;&lt;/a&gt;方法论&lt;/h2&gt;&lt;h5 id=&quot;五大维度：&quot;&gt;&lt;a href=&quot;#五大维度：&quot; class=&quot;headerlink&quot; title=&quot;五大维度：&quot;&gt;&lt;/a&gt;
      
    
    </summary>
    
    
      <category term="SAP" scheme="http://yoursite.com/tags/SAP/"/>
    
  </entry>
  
</feed>
